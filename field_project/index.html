<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Complaint Registration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            text-align: center;
            background-color: #f8f9fa;
        }
        .header {
            background-color: #007bff;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .header select {
            padding: 5px;
            font-size: 1em;
        }
        .active {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: url('https://www.galaxyfurnitureelectronics.in/uploads/image/electronics/home-appliances.jpg') no-repeat center center/cover;
            color:white;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
            justify-content: center;
            height: 100vh;
        }
        .container-wrapper {
            display: none;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            width: 40%;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: left;
        }
        button {
            width: 70%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #218838;
        }
        .option-box, .product-box {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .option, .product {
            cursor: pointer;
            border: 2px solid #ddd;
            padding: 10px;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            transition: transform 0.2s;
            width: 200px;
            height: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: black;
            font-weight: bold;
        }
        .option:hover, .product:hover {
            transform: scale(1.05);
        }
        .option img, .product img {
            width: 150px;
            height: 150px;
            object-fit: contain;
            margin-bottom: 10px;
        }
        .links {
            margin-top: 10px;
            display: flex;
            gap: 15px;
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }
        .links a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
        }
        #product-container h1 {
            margin-bottom: 20px; /* Adds space between the heading and the product options */
        }
        .back-home {
            margin-top: 20px;
            font-size: 1.1em;
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
        }
        .back-home:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <!-- Header Section -->
    <div class="header">
        <h1>Customer Service Portal</h1>
        <div>
            <label for="userType">Select User Type:</label>
            <select id="userType" onchange="handleUserTypeChange()">
                <option value="customer">Customer</option>
                <option value="serviceTeam">Service Team</option>
            </select>
        </div>
    </div>

    <div class="links">
        <a href="about.html">About Us</a>
        <a href="contact.html">Contact Us</a>
    </div>

    <!-- Welcome Screen -->
    <div id="welcome-container" class="active">
        <h1>Welcome to Our Service Portal</h1>
        <p>Please select the type of service you need:</p>
        <div class="option-box">
            <div class="option" onclick="showProducts('Electrical')">
                <img src="https://banner2.cleanpng.com/20180205/koq/av1zepzqt.webp" alt="Electronic">
                <h3>Electronic devices</h3>
            </div>
            <div class="option" onclick="showProducts('Furniture')">
                <img src="https://m.media-amazon.com/images/I/71kOWy66-FL._AC_UF894,1000_QL80_.jpg" alt="Furniture">
                <h3>Furniture</h3>
            </div>
        </div>
    </div>

    <!-- Product Selection -->
    <div id="product-container" class="container-wrapper">
        <h1>Select Your Product</h1>    
        <div id="product-box" class="product-box"></div>
        <a href="index.html" class="back-home">Back to Home</a> <!-- Back to Home Link -->
    </div>

    <!-- Complaint Registration Form -->
    <div id="registration-container" class="container-wrapper">
        <div class="container">
            <h1>Service-Complaint Registration</h1>
            <form  id = "complaint-form" action="https://api.web3forms.com/submit"  method="POST">
                <input type="hidden" name="access_key" value="43acee95-af3e-4ccd-815f-23d2f5659e27">
                
                <label for="selectedProduct">Selected Product</label>
                <input type="text" id="selectedProduct" name="selected_product" readonly>
                
                <br><br>
                
                <label for="firstName">First Name *</label>
                <input type="text" id="firstName" name="first_name" required>
                
                <br><br>
                
                <label for="lastName">Last Name *</label>
                <input type="text" id="lastName" name="last_name" required>
                
                <br><br>
                
                <label for="mobile">Mobile Number</label>
                <input type="tel" id="mobile" name="mobile">
                
                <br><br>
                
                <label for="email">E-mail</label>
                <input type="email" id="email" name="email">
                
                <br><br>
                
                <label for="address">Address *</label>
                <input type="text" id="address" name="address" required>
                
                <br><br>
                
                <label for="pincode">Pincode *</label>
                <input type="text" id="pincode" name="pincode" required>
                
                <br><br>
                
                <label for="complaint">Complaint (up to 200 words):</label>
                <textarea id="complaint" name="complaint" rows="4"></textarea>
                
                <br><br>
                
                <label for="fileUpload">Upload Supporting File (Optional)</label>
                <input type="file" id="fileUpload" name="file" accept=".jpg,.jpeg,.png,.pdf,.docx">
                
                <br><br>
                
                <button type="submit">Submit</button>
            </form>
            
            <a href="index.html" class="back-home">Back to Home</a> <!-- Back to Home Link -->
        </div>
    </div>

    <div id="success-container" class="container-wrapper">
        <div class="container">
            <h1>Request Submitted Successfully!</h1>
            <p>Thank you for registering your complaint. Our support team will get back to you soon.</p>
            <h2>Your OTP: <span id="otp"></span></h2>
            <p>Your OTP will expire in 24 hours.</p>
            <a href="index.html" class="back-home">Back to Home</a> <!-- Back to Home Link -->
        </div>
    </div>

    <script>
        // Function to generate a random 4-digit OTP
        function generateOTP() {
            const otp = Math.floor(1000 + Math.random() * 9000); // Generates a 4-digit OTP
            const expiryTime = Date.now() + 24 * 60 * 60 * 1000; // 24 hours from now
            localStorage.setItem("otp", otp);
            localStorage.setItem("otpExpiry", expiryTime);
            return otp;
        }

        // Function to handle user selection change
        function handleUserTypeChange() {
            const userType = document.getElementById("userType").value;
            if (userType === "serviceTeam") {
                window.location.href = "service_team_login.php"; // Redirect to service team login page
            }
        }

        // Show the products based on the category
        function showProducts(category) {
            console.log("Category selected:", category);
            document.getElementById("welcome-container").style.display = "none";
            document.getElementById("product-container").style.display = "flex";
            const productBox = document.getElementById("product-box");
            productBox.innerHTML = "";

            const products = {
                Electrical: [
                    { name: "Air Conditioner", img: "https://i5.walmartimages.com/asr/88f493f4-562e-423e-bff0-994885a5bb07.9738c37f43a42b2aa915b082b6329fb7.jpeg" },
                    { name: "Washing Machine", img: "https://img.etimg.com/thumb/width-1200,height-900,imgsize-143936,resizemode-75,msid-115259554/top-trending-products/major-appliances/washing-machine/best-selling-washing-machines-top-picks-for-every-budget-and-need.jpg" },
                    { name: "Microwave Oven", img: "https://m.economictimes.com/thumb/msid-114128775,width-1200,height-1200,resizemode-4,imgsize-52536/microwave.jpg" },
                    { name: "Refrigerator", img: "https://images-cdn.ubuy.co.in/65979c2cb910f53d2e6e34ae-3-5cu-ft-compact-refrigerator-mini.jpg" }
                ],
                Furniture: [
                    { name: "Sofa", img: "https://www.orangetree.in/cdn/shop/files/Gallery-1ChiyoL-ShapedSofaBuyOnline.jpg?v=1722852692" },
                    { name: "Wardrobe", img: "https://cdn.shopify.com/s/files/1/0096/4594/9013/files/Wardrobe_Design_Cupboard_Design_Modern_Wardrobe_Design_Almirah_Design_711eeea2-d03c-4e12-8939-6aa26c0acbf1.jpg?v=1651398668" },
                    { name: "Tables", img: "https://5.imimg.com/data5/SELLER/Default/2023/7/326289964/WP/FM/QA/142971428/multi-functional-table-500x500.jpg" },
                    { name: "Chair", img: "https://dukaan.b-cdn.net/700x700/webp/media/05719795-f2a3-48df-a726-9b24a4cb116c.webp" }
                ]
            };

            products[category].forEach(product => {
                const div = document.createElement("div");
                div.classList.add("product");
                div.innerHTML = `<img src="${product.img}" alt="${product.name}"><h3>${product.name}</h3>`; 
                div.onclick = () => selectProduct(product.name);
                productBox.appendChild(div);
            });
        }

        // Function to select a product and show the complaint registration form
        function selectProduct(productName) {
            document.getElementById("product-container").style.display = "none";
            document.getElementById("registration-container").style.display = "flex";
            document.getElementById("selectedProduct").value = productName;
        }

        // Submit complaint form
        document.getElementById("complaint-form").addEventListener("submit", function(event) {
            event.preventDefault();
            
            // Generate OTP and display it
            const otp = generateOTP();
            document.getElementById("otp").innerText = otp;
            
            document.getElementById("registration-container").style.display = "none";
            document.getElementById("success-container").style.display = "flex";
        });
    </script>
</body>
</html>